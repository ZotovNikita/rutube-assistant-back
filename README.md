# rutube-assistant-back

Backend &amp; ML for RUTUBE AI assistant

## Инструкция по установке

1. Установить python v3.11.9

2. Установить torch с CUDA на вашей машине (для windows: `pip install torch==2.4.1 --index-url https://download.pytorch.org/whl/cu118`)

3. Выполнить `pip install -r ./req.txt`

4. Файл `.env.example` переименовать в `.env` и заполнить необходимые переменные окружения

5. Выполнить `python -m src`

По умолчанию Swagger развернут по адресу `http://localhost:8558/docs`.

Получение ответа на вопрос и классификаторов 1-го и 2-го уровней доступно по запросу `POST http://localhost:8558/qa`.

## Описание проекта

В директории `modeling` содержатся ноутбуки, использовавшиеся при разработке.

Директория `data` содержит вспомогательные файлы и промежуточные результаты.

Директория `cache` содержит локально загруженные модели и векторные базы данных (эту директорию необходимо добавить самостоятельно, скачать по [ссылке](https://rutube.ru)).

В директории `src` находится сервисная часть проекта.

Директория `static` необходима для статичного сваггера, чтобы `GET /docs` быстро загружался.

В файле `utils/toxicity.py` находится функция для определения токсичности текста.
